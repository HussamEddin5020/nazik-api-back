# ๐ฆ ุฏููู ุงูุชุซุจูุช ูุงูุชุดุบูู - Nazik API

## ุงููุชุทูุจุงุช ุงูุฃุณุงุณูุฉ

ูุจู ุงูุจุฏุกุ ุชุฃูุฏ ูู ุชุซุจูุช:
- โ Node.js (ุงูุฅุตุฏุงุฑ 16 ุฃู ุฃุญุฏุซ)
- โ npm (ุงูุฅุตุฏุงุฑ 8 ุฃู ุฃุญุฏุซ)
- โ MySQL 8.0 ุฃู ุฃุญุฏุซ
- โ ูุงุนุฏุฉ ุงูุจูุงูุงุช `nazikdatabase` ูุญููุฉ ูููุนูุฉ

## ุฎุทูุงุช ุงูุชุซุจูุช

### 1๏ธโฃ ุชุซุจูุช ุงูููุชุจุงุช

```bash
cd nodeJS/nzaik-api
npm install
```

### 2๏ธโฃ ุฅุนุฏุงุฏ ููู ุงูุจูุฆุฉ

ูู ุจูุณุฎ ููู `.env.example` ุฅูู `.env`:

```bash
cp .env.example .env
```

ุซู ูู ุจุชุญุฏูุซ ุงููุนูููุงุช ูู ููู `.env`:

```env
# ูุนูููุงุช ุงูุฎุงุฏู
PORT=3000
NODE_ENV=development

# ูุนูููุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช
DB_HOST=your-database-host
DB_PORT=3306
DB_USER=avnadmin
DB_PASSWORD=your-actual-password
DB_NAME=nazikdatabase

# ููุชุงุญ JWT (ุบูุฑู ูู ุงูุฅูุชุงุฌ!)
JWT_SECRET=your-super-secret-key-change-this
JWT_REFRESH_SECRET=your-refresh-token-secret
```

### 3๏ธโฃ ุงูุชุฃูุฏ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

ุชุฃูุฏ ูู:
- โ ูุงุนุฏุฉ ุงูุจูุงูุงุช `nazikdatabase` ููุฌูุฏุฉ
- โ ุฌููุน ุงูุฌุฏุงูู ูุญููุฉ ูู ููู `full-database.sql`
- โ ุงููุณุชุฎุฏู ูุฏูู ุตูุงุญูุงุช ุงููุตูู ุงููุงููุฉ

### 4๏ธโฃ ุชุดุบูู ุงูุฎุงุฏู

#### ูุถุน ุงูุชุทููุฑ (ูุน auto-reload):
```bash
npm run dev
```

#### ูุถุน ุงูุฅูุชุงุฌ:
```bash
npm start
```

## โ ุงุฎุชุจุงุฑ ุงูุงุชุตุงู

ุจุนุฏ ุชุดุบูู ุงูุฎุงุฏูุ ุงูุชุญ ุงููุชุตูุญ ุนูู:

```
http://localhost:3000/health
```

ูุฌุจ ุฃู ุชุญุตู ุนูู ุฑุฏ ูุซู:

```json
{
  "status": "success",
  "message": "Nazik API is running",
  "timestamp": "2025-10-12T12:00:00.000Z",
  "environment": "development"
}
```

## ๐ ุงุฎุชุจุงุฑ ุชุณุฌูู ุงูุฏุฎูู

### ุชุณุฌูู ุนููู ุฌุฏูุฏ:

```bash
curl -X POST http://localhost:3000/api/v1/auth/register/customer \
  -H "Content-Type: application/json" \
  -d '{
    "name": "ุฃุญูุฏ ูุญูุฏ",
    "email": "ahmed@example.com",
    "phone": "0912345678",
    "password": "123456",
    "city_id": 1,
    "area_id": 1,
    "street": "ุดุงุฑุน ุงูุฌูููุฑูุฉ"
  }'
```

### ุชุณุฌูู ุงูุฏุฎูู:

```bash
curl -X POST http://localhost:3000/api/v1/auth/login \
  -H "Content-Type: application/json" \
  -d '{
    "identifier": "0912345678",
    "password": "123456"
  }'
```

## ๐ ุงูุจูุงูุงุช ุงูุชุฌุฑูุจูุฉ

ูุงุนุฏุฉ ุงูุจูุงูุงุช ุชุญุชูู ุนูู ุจูุงูุงุช ุชุฌุฑูุจูุฉ:

### ูุณุชุฎุฏููู ููุฌูุฏูู:
- **Email:** `omar.admin2025@example.com` - **Phone:** `0922334455` (ููุธู ุจุตูุงุญูุงุช ูุงููุฉ)
- **Email:** `hossam123@gmail.com` - **Phone:** `0910504021` (ุนููู)

### ูุฏู ูููุงุทู:
- ุทุฑุงุจูุณ (ID: 1) - ููุงุทู: Gergarish, Fashloum, Souq Al Jumaa, Abu Salim, Ain Zara
- ุจูุบุงุฒู (ID: 2) - ููุงุทู: Al Sabri, Garyounis, Al Kish, Bu Atni, Laithi
- ูุตุฑุงุชุฉ (ID: 3) - ููุงุทู: City Center, Al Skikdar, Dafniya, Zarouq, Tammina

## ๐ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุฎุทุฃ ุงูุงุชุตุงู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช:

```
โ Database connection failed: connect ECONNREFUSED
```

**ุงูุญู:**
- ุชุฃูุฏ ูู ุชุดุบูู MySQL
- ุชุญูู ูู ูุนูููุงุช ุงูุงุชุตุงู ูู `.env`
- ุชุฃูุฏ ูู ุงูุณูุงุญ ุจุงูุงุชุตุงู ูู IP ุงูุฎุงุต ุจู

### ุฎุทุฃ ูู ุงูุตูุงุญูุงุช:

```
Error: ER_ACCESS_DENIED_ERROR
```

**ุงูุญู:**
- ุชุญูู ูู ุงุณู ุงููุณุชุฎุฏู ููููุฉ ุงููุฑูุฑ
- ุชุฃูุฏ ูู ุฃู ุงููุณุชุฎุฏู ูุฏูู ุตูุงุญูุงุช ุนูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

### ุฎุทุฃ ูู Port:

```
Error: listen EADDRINUSE: address already in use :::3000
```

**ุงูุญู:**
- ุบูุฑ ุฑูู ุงูู PORT ูู ููู `.env`
- ุฃู ุฃููู ุงูุนูููุฉ ุงูุชู ุชุณุชุฎุฏู Port 3000

## ๐ ููุงุญุธุงุช ูููุฉ

1. **ุงูุฃูุงู:** ูู ุงูุฅูุชุงุฌุ ุบูุฑ ุฌููุน ุงูููุงุชูุญ ุงูุณุฑูุฉ ูู `.env`
2. **ูุงุนุฏุฉ ุงูุจูุงูุงุช:** ูุง ุชุดุงุฑู ูุนูููุงุช ุงูุงุชุตุงู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช
3. **Triggers:** ูุงุนุฏุฉ ุงูุจูุงูุงุช ุชุณุชุฎุฏู Session Variables (@current_user_id)
4. **ุงูุชุฑููุฒ:** ุฌููุน ุงูุฑุฏูุฏ ุจุตูุบุฉ UTF-8 ูุฏุนู ุงููุบุฉ ุงูุนุฑุจูุฉ

## ๐ ุงูุฎุทูุงุช ุงูุชุงููุฉ

ุจุนุฏ ุงูุชุดุบูู ุงููุงุฌุญ:
1. ุงุฎุชุจุฑ ุฌููุน ุงูู endpoints ุจุงุณุชุฎุฏุงู Postman
2. ุฑุงุฌุน ุงูู logs ููุชุฃูุฏ ูู ุนุฏู ูุฌูุฏ ุฃุฎุทุงุก
3. ุงุจุฏุฃ ูู ุชุทููุฑ ุชุทุจูู Flutter ุงููุชุตู ุจุงูู API

## ๐ ุงูุฏุนู

ูู ุญุงู ูุงุฌูุช ุฃู ูุดููุฉุ ุชุญูู ูู:
- ุณุฌูุงุช ุงูู console
- ุณุฌูุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช
- ููู `.env` ูุชุฃูุฏ ูู ุตุญุฉ ุฌููุน ุงููุนูููุงุช


